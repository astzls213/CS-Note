# 关系代数

由于我们要按照某种条件获取数据库中的数据，因此有人从数理逻辑与集合论的角度出发，构建一般化的获取模式，称之为关系代数模式。

### 术语

- 候选码（candidate key）：有这么一组属性，可以直接确定唯一的实体。且这组属性的真子集不能确定唯一的实体，就叫做候选码。
- 主码（Primary Key）：从多个候选码选择一个出来，这个候选码就叫做主码。
- 主属性（prime attr）：所有候选码的属性集合统称主属性。
- 非主属性（non-prime attr）：顾名思义。

### 基本运算

- 选择`σ`：选择那些满足条件的元组。
- 投影`π`：提取元组的部分属性。
- 集合并`U`：没什么好说的
- 集合差`-`：没什么好说的
- 笛卡尔积`x`：没什么好说的

### 复合运算

- 自然连接：假设A自然连接B，先求A和B的笛卡尔积，再用选择运算子提取公共属性相等的元组，最后将共有属性保留一份即可（等值连接不用做这步）。
- 左外连接：和自然连接一样，但是共有属性不同的那部分，要保留运算符左边的属性，缺失的属性用NULL代替。（有点抽象。。没办法文字很难描述）
- 右外连接：同左外连接，但是保留的是运算符右边的属性。
- 全外连接：同上，即共有属性不等的元素也保留下来，缺失的另一半属性用NULL代替。
- 除：设表A的属性集为R，表B的属性集为S，那么投影A至R-S属性集上，投影上的每个元组t，它的tA[S]必须包含于tB[S]。tA[S]，即在表A上，t元组的S属性集的值。这东西很难说清楚，给你们讲个题目就明白了。

求所有至少选择了计算机系所有课程的学生学号。

即投影（学号，课程号）（选课表） 除 投影（课程号）（选择（课程所属系=计算机系）（课程表）